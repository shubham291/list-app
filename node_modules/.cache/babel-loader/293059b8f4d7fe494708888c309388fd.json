{"ast":null,"code":"var _jsxFileName = \"/Users/sbabbar006/Documents/IVIEW/list-app/src/components/MainComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport get from \"../config/communication\";\nimport Table from \"./Table/Table\";\nimport User from \"./Users/User\";\nimport Search from \"./Search/Search\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MainComponent() {\n  _s();\n\n  let initialState = {\n    posts: [],\n    comments: [],\n    users: [],\n    newArr: [],\n    view: \"allPost\",\n    individualUser: {},\n    replicaArr: []\n  };\n  const [state, setState] = useState(initialState);\n  useEffect(() => {\n    storeAllData();\n  }, []);\n\n  const storeAllData = async () => {\n    let posts = await get(\"posts\");\n    let users = await get(\"users\");\n    let comments = await get(\"comments\");\n    setState({ ...state,\n      posts,\n      users,\n      comments\n    });\n  };\n\n  useEffect(() => {\n    expensiveComputation();\n  }, [state.posts]);\n\n  const expensiveComputation = () => {\n    console.log(state, 'statee');\n    let newArr = [];\n    state.posts.map(el => {\n      state.users.find(elem => {\n        if (elem.id == el.userId) {\n          newArr.push({\n            title: el.title,\n            username: elem.username,\n            id: elem.id\n          });\n        }\n      });\n    });\n    setState({ ...state,\n      newArr,\n      replicaArr: newArr\n    });\n  };\n\n  const onChangeView = (e, i) => {\n    e.preventDefault();\n\n    if (state.view == \"allPost\") {\n      let user = state.users.find(el => {\n        console.log(el.id, 'ellelelele', i);\n\n        if (el.id == i) {\n          return el;\n        }\n      });\n      setState({ ...state,\n        view: \"users\",\n        individualUser: [user]\n      });\n    } else if (state.view == \"users\") {\n      setState({ ...state,\n        view: \"allPost\"\n      });\n    }\n  };\n\n  const onSearch = e => {\n    let value = e.target.value;\n\n    if (value && state.newArr.length) {\n      let filteredArr = state.newArr.filter(el => {\n        if (el.username.toLowerCase().includes(value.toLowerCase())) {\n          return el;\n        }\n      });\n      setState({ ...state,\n        newArr: filteredArr\n      });\n    } else {\n      setState({ ...state,\n        newArr: state.replicaArr\n      });\n    }\n  }; // console.log(state, 'posts')\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: state.view == \"allPost\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"All Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 42\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        onSearch: onSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        newArr: state.newArr,\n        headings: [\"Title\", \"Username\"],\n        onChangeView: onChangeView,\n        view: state.view\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(User, {\n      individualUser: state.individualUser,\n      newArr: state.individualUser,\n      view: state.view,\n      onChangeView: onChangeView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 133\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MainComponent, \"pdyGCmlY7TRGX76jdogJFnbHPh8=\");\n\n_c = MainComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainComponent\");","map":{"version":3,"sources":["/Users/sbabbar006/Documents/IVIEW/list-app/src/components/MainComponent.js"],"names":["React","useState","useEffect","get","Table","User","Search","MainComponent","initialState","posts","comments","users","newArr","view","individualUser","replicaArr","state","setState","storeAllData","expensiveComputation","console","log","map","el","find","elem","id","userId","push","title","username","onChangeView","e","i","preventDefault","user","onSearch","value","target","length","filteredArr","filter","toLowerCase","includes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport get from \"../config/communication\"\nimport Table from \"./Table/Table\";\nimport User from \"./Users/User\";\nimport Search from \"./Search/Search\"\n\n\nexport default function MainComponent() {\n    let initialState = {\n        posts: [],\n        comments: [],\n        users: [],\n        newArr: [],\n        view: \"allPost\",\n        individualUser: {},\n        replicaArr: []\n    }\n    const [state, setState] = useState(initialState)\n    useEffect(() => {\n        storeAllData()\n    }, [])\n    const storeAllData = async () => {\n        let posts = await get(\"posts\")\n        let users = await get(\"users\")\n        let comments = await get(\"comments\")\n        setState({ ...state, posts, users, comments })\n    }\n    useEffect(() => {\n        expensiveComputation()\n    }, [state.posts])\n    const expensiveComputation = () => {\n        console.log(state, 'statee')\n        let newArr = []\n        state.posts.map((el) => {\n            state.users.find((elem) => {\n                if (elem.id == el.userId) {\n                    newArr.push({ title: el.title, username: elem.username, id: elem.id })\n                }\n            })\n        })\n        setState({ ...state, newArr,replicaArr:newArr })\n    }\n\n    const onChangeView = (e, i) => {\n        e.preventDefault()\n        if (state.view == \"allPost\") {\n            let user = state.users.find((el) => {\n                console.log(el.id, 'ellelelele', i)\n                if (el.id == i) {\n                    return el\n                }\n            })\n            setState({ ...state, view: \"users\", individualUser: [user] })\n        } else if(state.view == \"users\"){\n            setState({ ...state, view: \"allPost\" })\n        }\n    }\n\n    const onSearch = (e) =>{\n        let value = e.target.value\n        if(value && state.newArr.length){\n            let filteredArr = state.newArr.filter((el)=>{\n                if(el.username.toLowerCase().includes(value.toLowerCase())) {\n                    return el\n                }\n            })\n            setState({ ...state, newArr : filteredArr })\n        } else {\n            setState({ ...state, newArr : state.replicaArr })\n        }\n    }\n\n    // console.log(state, 'posts')\n\n    return (\n        <div>\n            {state.view == \"allPost\" ? <><div><h1>All Posts</h1></div>\n            <Search onSearch={onSearch}/>\n                <Table newArr={state.newArr} headings={[\"Title\", \"Username\"]} onChangeView={onChangeView} view={state.view} /></> : <User individualUser={state.individualUser} newArr={state.individualUser} view={state.view} onChangeView={onChangeView} />}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}