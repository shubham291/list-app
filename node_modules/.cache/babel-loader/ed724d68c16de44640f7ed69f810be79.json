{"ast":null,"code":"var _jsxFileName = \"/Users/sbabbar006/Documents/IVIEW/list-app/src/components/MainComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport get from \"../config/communication\";\nimport Home from \"./HomePage/Home\";\nimport User from \"./Users/User\";\nimport Post from \"./Posts/Post\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MainComponent() {\n  _s();\n\n  let initialState = {\n    posts: [],\n    comments: [],\n    users: [],\n    newArr: [],\n    view: \"allPost\",\n    replicaArr: [],\n    postArr: [],\n    postData: {}\n  };\n  const [state, setState] = useState(initialState);\n  useEffect(() => {\n    storeAllData();\n  }, []);\n\n  const storeAllData = async () => {\n    let posts = await get(\"posts\");\n    let users = await get(\"users\");\n    let comments = await get(\"comments\");\n    setState({ ...state,\n      posts,\n      users,\n      comments\n    });\n  };\n\n  useEffect(() => {\n    expensiveComputation();\n  }, [state.posts]);\n\n  const expensiveComputation = () => {\n    let newArr = [];\n    state.posts.map(el => {\n      state.users.find(elem => {\n        if (elem.id == el.userId) {\n          newArr.push({\n            title: el.title,\n            username: elem.username,\n            id: elem.id\n          });\n        }\n      });\n    });\n    setState({ ...state,\n      newArr,\n      replicaArr: newArr\n    });\n  };\n\n  const onChangeView = (e, i, name, title) => {\n    e.preventDefault();\n\n    if (state.view == \"allPost\") {\n      if (name == \"username\") {\n        let user = state.users.find(el => {\n          if (el.id == i) {\n            return el;\n          }\n        });\n        setState({ ...state,\n          view: \"users\",\n          newArr: [user]\n        });\n      }\n\n      if (name == \"post\") {\n        let postData = state.newArr.find(el => {\n          if (el.title == title) {\n            return el;\n          }\n        });\n        let post = [];\n        state.comments.find(el => {\n          if (el.postId == i) {\n            post = [...post, el];\n          }\n        });\n        setState({ ...state,\n          view: \"Post\",\n          postArr: post,\n          postData\n        });\n      }\n    } else if (state.view == \"users\" || state.view == \"Post\") {\n      setState({ ...state,\n        view: \"allPost\"\n      });\n    }\n  };\n\n  const onSearch = e => {\n    let value = e.target.value;\n\n    if (value && state.newArr.length) {\n      let filteredArr = state.newArr.filter(el => {\n        if (el.username.toLowerCase().includes(value.toLowerCase())) {\n          return el;\n        }\n      });\n      setState({ ...state,\n        newArr: filteredArr\n      });\n    } else if (value == \"\") {\n      setState({ ...state,\n        newArr: state.replicaArr\n      });\n    }\n  };\n\n  const props = {\n    newArr: state.newArr,\n    onChangeView: onChangeView,\n    view: state.view\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: state.view == \"allPost\" ? /*#__PURE__*/_jsxDEV(Home, { ...props,\n      onSearch: onSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 40\n    }, this) : state.view == \"Post\" ? /*#__PURE__*/_jsxDEV(Post, { ...props,\n      postArr: state.postArr,\n      postData: state.postData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 105\n    }, this) : /*#__PURE__*/_jsxDEV(User, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 176\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MainComponent, \"pdyGCmlY7TRGX76jdogJFnbHPh8=\");\n\n_c = MainComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainComponent\");","map":{"version":3,"sources":["/Users/sbabbar006/Documents/IVIEW/list-app/src/components/MainComponent.js"],"names":["React","useState","useEffect","get","Home","User","Post","MainComponent","initialState","posts","comments","users","newArr","view","replicaArr","postArr","postData","state","setState","storeAllData","expensiveComputation","map","el","find","elem","id","userId","push","title","username","onChangeView","e","i","name","preventDefault","user","post","postId","onSearch","value","target","length","filteredArr","filter","toLowerCase","includes","props"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport get from \"../config/communication\"\nimport Home from \"./HomePage/Home\"\nimport User from \"./Users/User\";\nimport Post from \"./Posts/Post\"\n\nexport default function MainComponent() {\n    let initialState = {\n        posts: [],\n        comments: [],\n        users: [],\n        newArr: [],\n        view: \"allPost\",\n        replicaArr: [],\n        postArr: [],\n        postData: {}\n    }\n    const [state, setState] = useState(initialState)\n    useEffect(() => {\n        storeAllData()\n    }, [])\n    const storeAllData = async () => {\n        let posts = await get(\"posts\")\n        let users = await get(\"users\")\n        let comments = await get(\"comments\")\n        setState({ ...state, posts, users, comments })\n    }\n    useEffect(() => {\n        expensiveComputation()\n    }, [state.posts])\n    const expensiveComputation = () => {\n        let newArr = []\n        state.posts.map((el) => {\n            state.users.find((elem) => {\n                if (elem.id == el.userId) {\n                    newArr.push({ title: el.title, username: elem.username, id: elem.id })\n                }\n            })\n        })\n        setState({ ...state, newArr, replicaArr: newArr })\n    }\n\n    const onChangeView = (e, i, name,title) => {\n        e.preventDefault()\n        if(state.view == \"allPost\"){\n            if (name ==\"username\") {\n                let user = state.users.find((el) => {\n                    if (el.id == i) {\n                        return el\n                    }\n                })\n                setState({ ...state, view: \"users\", newArr: [user]  })\n            }\n            if(name == \"post\") {\n                let postData = state.newArr.find((el) => {\n                    if(el.title == title){\n                        return el\n                    }\n                })\n                let post = []\n                state.comments.find((el) => {\n                    if(el.postId == i){\n                        post = [...post,el] \n                    }\n                })\n                setState({ ...state, view: \"Post\" ,postArr : post,postData})\n            }\n        }\n          else if (state.view == \"users\" || state.view == \"Post\")  {\n            setState({ ...state, view: \"allPost\" })\n        }\n       \n    }\n\n    const onSearch = (e) => {\n        let value = e.target.value\n        if (value && state.newArr.length) {\n            let filteredArr = state.newArr.filter((el) => {\n                if (el.username.toLowerCase().includes(value.toLowerCase())) {\n                    return el\n                }\n            })\n            setState({ ...state, newArr: filteredArr })\n        } else if (value == \"\") {\n            setState({ ...state, newArr: state.replicaArr })\n        }\n    }\n\n    const props = {\n        newArr: state.newArr,\n        onChangeView: onChangeView,\n        view: state.view\n    }\n    return (\n        <div>\n            {state.view == \"allPost\" ? <Home {...props} onSearch={onSearch} /> : state.view == \"Post\" ? <Post {...props} postArr={state.postArr} postData={state.postData}/> : <User {...props} />}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}